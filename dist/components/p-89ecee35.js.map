{"file":"p-89ecee35.js","mappings":"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","names":[],"sources":["src/utils/days.ts","src/components/mass/mass.css?tag=mass-slot&encapsulation=shadow","src/components/mass/mass.tsx"],"sourcesContent":["export class D {\r\n\r\n  static readonly standardDays = ['1', '2', '3', '4', '5', '6', '7']\r\n  static readonly daysNames = ['Нд', 'Пн', 'Ат', 'Ср', 'Чц', 'Пт', 'Сб']\r\n\r\n  static getWeekDay(date: string): string {\r\n    let dateTS = Date.parse(date)\r\n\r\n    return this.daysNames[new Date(dateTS).getDay()]\r\n  }\r\n\r\n  static getToday(): Date {\r\n    let today = new Date()\r\n\r\n    return today\r\n  }\r\n\r\n  static getWeekName(index: any): string {\r\n    if (index == 7) { index = 0 }\r\n    return this.daysNames[index]\r\n  }\r\n\r\n  static strToDate(dtStr): Date {\r\n    if (!dtStr) return null\r\n    let dateParts = dtStr.split(\"-\");\r\n    let timeParts = dateParts[2].split(\" \")[1].split(\":\");\r\n    dateParts[2] = dateParts[2].split(\" \")[0];\r\n    // month is 0-based, that's why we need dataParts[1] - 1\r\n    return new Date(+dateParts[2], dateParts[1] - 1, +dateParts[0], timeParts[0], timeParts[1], timeParts[2]);\r\n  }\r\n}\r\n",".bg-actual {background-color: #739953;}\r\n.bg-notactual {background-color: yellow;}\r\n\r\n.broadcastUrl {\r\n  text-decoration: none;\r\n  color: rgb(69, 68, 68);\r\n  cursor: pointer;\r\n}\r\n\r\n.border-gray {\r\n  border: 1px solid rgb(221, 221, 221);\r\n  border-radius: 4px;\r\n}\r\n\r\n.massRorate, .massOnline {\r\n  display: inline-block;\r\n  align-items: center;\r\n  \r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  background-size: contain;\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n}\r\n\r\n.spanRow {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1ch;\r\n  color: black;\r\n}\r\n\r\n.circle {\r\n  position: relative;\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n  margin-right: 1.5rem;\r\n  border-radius: 50%;\r\n  box-sizing: border-box;\r\n}","import { Component, State, Prop, h } from '@stencil/core';\r\nimport { D } from '../../utils/days';\r\n\r\n@Component({\r\n  tag: 'mass-slot',\r\n  styleUrl: 'mass.css',\r\n  shadow: true\r\n})\r\n\r\nexport class Mass {\r\n\r\n  @Prop() accordionIndex: number;\r\n  @Prop() accordionExpanded: string;\r\n  @Prop() massIndex: number;\r\n  @Prop() expanded = true;\r\n\r\n  @Prop() massInfo: {\r\n    time: string,\r\n    info: string,\r\n    duration: string,\r\n    langCode: string,\r\n    needUpdate: boolean,\r\n    lastConfirmRelevance: string,\r\n    updatePeriodInDays: string,\r\n    online: boolean,\r\n    rorate: boolean,\r\n    address: string,\r\n    broadcastUrl: string,\r\n  };\r\n\r\n  @State() actual: boolean = false;\r\n\r\n  render() {\r\n    let btnExpanded = (this.expanded) ? (\"\") : (\"collapsed\")\r\n    let accordionExpanded = (this.expanded) ? (\"show\") : (\"\")\r\n\r\n    let lCR = D.strToDate(this.massInfo.lastConfirmRelevance)\r\n    let fCR = new Date(lCR)\r\n    fCR.setDate(lCR.getDate() + parseInt(this.massInfo.updatePeriodInDays, 10))\r\n    \r\n    if (fCR.getTime() >= Date.now()) {this.actual = true}\r\n\r\n    return (<div>\r\n      <div class=\"accordion-item\">\r\n\r\n        <h2 class=\"accordion-header\">\r\n          <button\r\n            class={`accordion-button ${btnExpanded}`}\r\n            type=\"button\" data-bs-toggle=\"collapse\"\r\n            data-bs-target={`#flush-collapse${this.accordionIndex}-${this.massIndex}`} aria-expanded=\"false\"\r\n            aria-controls={`flush-collapse${this.accordionIndex}-${this.massIndex}`}>\r\n\r\n            <mass-plate\r\n              actual={this.actual}\r\n              time={this.massInfo.time}\r\n              rorate={this.massInfo.rorate}\r\n              online={this.massInfo.online}\r\n            ></mass-plate>\r\n\r\n          </button>\r\n        </h2>\r\n\r\n        <div\r\n          id={`flush-collapse${this.accordionIndex}-${this.massIndex}`}\r\n          class={`accordion-collapse collapse ${accordionExpanded}`}\r\n          data-bs-parent={`accordionFlush${this.accordionIndex}`}\r\n        >\r\n          <div class=\"accordion-body d-flex flex-column gap-2 border-gray\">\r\n\r\n            <mass-header\r\n              address={this.massInfo.address}\r\n              langCode={this.massInfo.langCode}\r\n            ></mass-header>\r\n\r\n            <mass-additional\r\n              rorate={this.massInfo.rorate}\r\n              online={this.massInfo.online}\r\n              broadcastUrl={this.massInfo.broadcastUrl}\r\n            ></mass-additional>\r\n            \r\n            <mass-footer\r\n              info={this.massInfo.info}\r\n              lastConfirmRelevance={this.massInfo.lastConfirmRelevance}\r\n            ></mass-footer>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>)\r\n  }\r\n}"],"version":3}